import{t as U,m as A,a as g,p as C,c as F,u as q,b as B,d as T,e as L,f as p,g as W,r as S,h as w,j as e,F as i,P as R,T as E,i as $,k as K,l as u,n as c,E as f,I as v,o as k,q as y,s as j,B as Y,v as D,w as O}from"./index-CEa6hz64.js";import{B as _}from"./index.esm-CYSjkycb.js";const M={credentials:{email:"",password:""},isLoading:!1,isAuthenticated:!1,authCredentials:{phoneNumber:"",_id:"",token:"",fullName:"",email:""},errorMessage:""};function*z(n){try{const o=yield A({route:`${g.users}${g.signUp}`,method:"POST",isSecureRoute:!0,body:n.payload});yield C(b.signUpSuccess(o))}catch(o){const{message:r}=o;yield C(b.signUpFailed(r))}}function*G(){yield U(b.signUp,z)}const h=F({name:"signUpPageName",initialState:M,reducers:{signUp(n,o){n.isLoading=!0},signUpSuccess(n,o){n.authCredentials=o.payload,n.isAuthenticated=!0;const{_id:r,token:t,email:d,fullName:a,phoneNumber:l}=o.payload;console.log("Full name: ",a),localStorage.setItem("id",r),localStorage.setItem("token",t||""),localStorage.setItem("email",d),localStorage.setItem("fullName",a||""),localStorage.setItem("phoneNumber",l||""),n.isLoading=!1},signUpFailed(n,o){n.errorMessage=o.payload}}}),{actions:b}=h,H=()=>(q({key:h.name,reducer:h.reducer}),B({key:h.name,saga:G}),{actions:h.actions}),V=n=>(n==null?void 0:n.signUpPageName)||M,J=T([V],n=>n.authCredentials),Q=T([V],n=>n.isAuthenticated),X={fullName:"",email:"",password:"",confirmPassword:"",phoneNumber:""},Z=L().shape({fullName:p().required("Full name is required"),email:p().email("Invalid email format").required("Email is required"),password:p().required("Password is required"),confirmPassword:p().oneOf([W("password")],"Passwords must match").required("Confirm password is required"),phoneNumber:p().matches(/((^(2517|2519|07|09)\d{3})-?\d{5})/,"Invalid phone number").required("Phone number is required")}),ee=n=>{const[o,r]=S.useState(!1),[t,d]=S.useState(!1),a=()=>r(!o),l=()=>d(!t),P=w(),I=()=>{P("/landingPage/signIn")},x=(m,s)=>{var N;m.key==="Enter"&&((N=document.getElementById(s))==null||N.focus(),m.preventDefault())};return e.jsxDEV(i,{justifyContent:"center",alignItems:"center",paddingTop:45,children:e.jsxDEV(R,{style:{width:"100vw",overflow:"hidden"},children:e.jsxDEV(i,{flexDirection:"column",justifyContent:"center",width:"100%",children:e.jsxDEV(i,{flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",overflow:"hidden",children:[e.jsxDEV(i,{justifyContent:"center",flexDirection:"column",alignItems:"center",color:"#5785E3",children:[e.jsxDEV(_,{size:100},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:77,columnNumber:15},void 0),e.jsxDEV(E,{children:"Secure Your Full Access "},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:78,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:71,columnNumber:13},void 0),e.jsxDEV($,{initialValues:X,validationSchema:Z,onSubmit:(m,{setSubmitting:s})=>{n.handleSubmit(m),s(!1)},children:({handleSubmit:m})=>e.jsxDEV(K,{style:{width:"350px"},children:[e.jsxDEV(u,{as:c,name:"fullName",type:"text",variant:"filled",color:"success",fullWidth:!0,style:{marginTop:"30px",marginBottom:"8px",borderWidth:"1px",borderRadius:"5px"},placeholder:"Enter Your Full Name",onKeyPress:s=>x(s,"email")},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:90,columnNumber:19},void 0),e.jsxDEV(i,{style:{color:"red",paddingLeft:"10px"},children:e.jsxDEV(f,{name:"fullName",component:"div"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:110,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:109,columnNumber:19},void 0),e.jsxDEV(u,{as:c,id:"email",name:"email",type:"email",variant:"filled",color:"success",fullWidth:!0,placeholder:"Enter Your Email Address",style:{marginBottom:"8px",borderWidth:"1px"},onKeyPress:s=>x(s,"password")},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:112,columnNumber:19},void 0),e.jsxDEV(i,{style:{color:"red",paddingLeft:"10px"},children:e.jsxDEV(f,{name:"email",component:"div"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:131,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:130,columnNumber:19},void 0),e.jsxDEV(u,{as:c,id:"password",name:"password",variant:"filled",color:"success",fullWidth:!0,style:{marginBottom:"8px",borderWidth:"1px"},placeholder:"Enter Your Password",type:o?"text":"password",InputProps:{endAdornment:e.jsxDEV(v,{position:"end",children:e.jsxDEV(k,{"aria-label":"toggle password visibility",onClick:a,edge:"end",children:o?e.jsxDEV(y,{},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:154,columnNumber:45},void 0):e.jsxDEV(j,{},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:154,columnNumber:60},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:149,columnNumber:27},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:148,columnNumber:25},void 0)},onKeyPress:s=>x(s,"confirmPassword")},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:133,columnNumber:19},void 0),e.jsxDEV(i,{style:{color:"red",paddingLeft:"10px"},children:e.jsxDEV(f,{name:"password",component:"div"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:165,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:164,columnNumber:19},void 0),e.jsxDEV(u,{as:c,id:"confirmPassword",name:"confirmPassword",variant:"filled",color:"success",fullWidth:!0,placeholder:"Confirm password",type:t?"text":"password",InputProps:{endAdornment:e.jsxDEV(v,{position:"end",children:e.jsxDEV(k,{"aria-label":"toggle password visibility",onClick:l,edge:"end",children:t?e.jsxDEV(y,{},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:184,columnNumber:46},void 0):e.jsxDEV(j,{},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:184,columnNumber:61},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:179,columnNumber:27},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:178,columnNumber:25},void 0)},style:{marginBottom:"8px",borderWidth:"1px"},onKeyPress:s=>x(s,"phoneNumber")},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:167,columnNumber:19},void 0),e.jsxDEV(i,{style:{color:"red",paddingLeft:"10px"},children:e.jsxDEV(f,{name:"confirmPassword",component:"div"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:199,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:198,columnNumber:19},void 0),e.jsxDEV(u,{as:c,id:"phoneNumber",name:"phoneNumber",type:"text",variant:"filled",color:"success",fullWidth:!0,placeholder:"Enter Your Phone Number",style:{marginBottom:"8px",borderRadius:"5px"}},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:201,columnNumber:19},void 0),e.jsxDEV(i,{style:{color:"red",paddingLeft:"10px"},children:e.jsxDEV(f,{name:"phoneNumber",component:"div"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:216,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV(i,{justifyContent:"center",alignItems:"center",pt:4,pb:4,children:e.jsxDEV(Y,{variant:"contained",onClick:()=>m(),style:{backgroundColor:"#5785E3",width:"100%",height:"60px"},type:"submit",children:e.jsxDEV(E,{textTransform:"none",children:"Sign Up"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:234,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:224,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:218,columnNumber:19},void 0),e.jsxDEV(i,{flexDirection:"column",alignItems:"center",style:{gap:20}},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:237,columnNumber:19},void 0),e.jsxDEV(i,{style:{margin:"30px 0px 50px 70px"},children:["Already have an account?",e.jsxDEV("button",{style:{color:"#1C79F2",marginLeft:7,backgroundColor:"#fff",border:"none",cursor:"pointer"},onClick:()=>I(),children:"Login"},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:244,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:80,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:64,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:63,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:62,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Components/MembershipComponent/Signup/index.tsx",lineNumber:61,columnNumber:5},void 0)},ie=()=>{const n=D(J),o=D(Q),r=w(),{actions:t}=H(),d=O();S.useEffect(()=>{localStorage.getItem("token")&&o&&r("/")},[n,o,r]);const a=l=>{d(t.signUp(l))};return e.jsxDEV(ee,{handleSubmit:a},void 0,!1,{fileName:"/home/kali/Stride/EthioTourSpace/frontend/src/apps/Pages/MembershipPage/SignupPage/index.tsx",lineNumber:22,columnNumber:10},void 0)};export{ie as SignUpPage};
